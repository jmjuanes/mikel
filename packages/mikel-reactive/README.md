# mikel-reactive

![npm version](https://badgen.net/npm/v/mikel-reactive?labelColor=1d2734&color=21bf81)
![license](https://badgen.net/github/license/jmjuanes/mikel?labelColor=1d2734&color=21bf81)

Bring reactivity to **mikel** templates in the browser.

## Limitations

**Important**: **This plugin DOES NOT SANITIZE the output HTML**. It is your responsibility to ensure that the HTML generated by the reactive template is safe for rendering in a web application. If you plan to render user-generated content, consider using a library like [DOMPurify](https://github.com/cure53/DOMPurify), to ensure that the resulting HTML is safe for rendering and doesn't pose a security risk.

Always exercise caution when incorporating user-generated content into your web application and take appropriate measures to prevent cross-site scripting (XSS) attacks and other security vulnerabilities.

## Installation

You can install this plugin using npm or yarn:

```bash
## install using YARN
$ yarn add mikel mikel-reactive

## install using NPM
$ npm install --save mikel mikel-reactive
```

## Usage

```html
<!-- 1. create a <div> element to mount the reactive template -->
<div id="app"></div>

<!-- 2. create a <template> or <script> element to define the reactive template -->
<template type="text/mikel">
    <div>
        <div>Count: {{count}}</div>
        <button>Increment</button>
    </div>
</template>

<!-- 3. include the mikel-reactive script -->
 <script type="module">
    import mikel from "mikel";
    import mikelReactive from "mikel-reactive";

    // 3.1. get the content of the template
    const template = document.querySelector(`template[type="text/mikel"]`).innerHTML;

    // 3.2. use mikelReactive to create the reactive template
    mikelReactive({
        el: document.getElementById("app"), // where to mount the template
        template: mikel.create(template, {}), // the mikel instance to use
        // use the `data` property to define the initial data of the template
        data: {
            count: 0,
        },
        // use the mount function to add event listeners or other logic of the template
        // this function will be called after the template is mounted with a single argument `self`
        // which contains the data object and some additional properties and method to manage the template
        mount: self => {
            // self.$el is the element where the template is mounted 
            self.$el.querySelector("button").addEventListener("click", () => {
                // use self.$update to update the data
                self.$update({
                    count: self.count + 1, // note that self contains the data object
                });
            });
        },
    });
</script>
```

